#!/usr/bin/env python

# Filter fasta file by some arbitrary parameter.

import argparse
from Bio import SeqIO

def parse_args():
    parser = argparse.ArgumentParser()

    parser.add_argument('--fasta-file', default='/dev/stdin')
    parser.add_argument('--output', default='/dev/stdout')
    parser.add_argument('--param', default=True, type=str)

    return parser.parse_args()


def main():

    args = parse_args()

    with open(args.fasta_file) as handle:
        records = SeqIO.parse(handle, 'fasta')

        out_handle = open(args.output, 'w')

        for r in records:
            if eval(args.param):
                print >> out_handle, r.format('fasta')

        out_handle.close()



if __name__ == '__main__':
    main()
